<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<body>
	<ui:composition>
		
		<nav class="light-blue">
			<div class="nav-wrapper">
				<ui:fragment rendered="#{sessionScope.appUserSession != null}">
					<a href="#" data-activates="slide-out" class="button-collapse button-main-menu">
						<i class="lnr lnr-menu"></i>
					</a>
				</ui:fragment>
				<a href="#" class="main-logo"> Photos</a>
				<ul class="right">
					<ui:fragment rendered="#{sessionScope.appUserSession != null}">
						<li class="search-input">
							<span class="lnr lnr-magnifier"></span>
							<input type="text" id="search"  placeholder="Search for photos" />
						</li>
					</ui:fragment>
					
					<li>
						<c:choose>
						  <c:when test="#{sessionScope.appUserSession != null}">
						    <a href="index.xhtml"><span class="lnr lnr-user"></span> #{sessionScope.appUserSession.getConnectedUser().firstname}</a>
						  </c:when>
						  <c:otherwise>
						    <a href="login.xhtml"><span class="lnr lnr-user"></span> Guest</a>
						  </c:otherwise>
						</c:choose>
					</li>
				</ul>
			</div>
		</nav>
		<ui:fragment rendered="#{sessionScope.appUserSession != null}">
			<c:set var="user" value="#{sessionScope.appUserSession.getConnectedUser()}" />
			
			<ul id="slide-out" class="side-nav">
				<li>
					<div class="userView">
						<div class="background">
							<h:graphicImage name="img/default-wallpaper.jpg"/>
						</div>
						<h:outputLink value="account.xhtml">
						    <h:graphicImage name="img/default-profil.gif" class="circle" />
						</h:outputLink>
						<a href="account.xhtml"><span class="white-text name">#{user.firstname} #{user.lastname}</span></a>
						<a href="#"><span class="white-text email">#{user.email}</span></a>
					</div>
				</li>
				<li><a href="list-user.xhtml"><span class="lnr lnr-users"></span> Utilisateurs</a></li>
				<li><a href="list-album.xhtml"><span class="lnr lnr-book"></span> Mes albums</a></li>
				<li class="spacer"><a href="list-photos.xhtml"><span class="lnr lnr-picture"></span> Mes photos</a></li>
				<li><div class="divider"></div></li>
				<li></li>
				<li><h:form><h:commandLink action="#{appUserSession.logout()}" ><span class="lnr lnr-lock"></span> Logout</h:commandLink></h:form></li>
				<li class="bottom-logo"><a href="#">Photos</a></li>
			</ul>
		</ui:fragment>
	</ui:composition>
</body>
</html>