<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>list Album - JEE WIC</title>
</head>

<body>
	<!-- DECLARATION DU TEMPLATE DONT LA PAGE EST CLIENTE -->
	<ui:composition template="/template/layout.xhtml">

	<!-- Redefinition de la zone 'content' du layout  -->
		<ui:define name="content">
			<f:view>
				<div class="row">
					<div class="col s12">
						<a class="btn light-blue" href="#modalCreateAlbum"><span class="lnr lnr-plus-circle"></span> Create Album</a>
						<div id="modalCreateAlbum" class="modal">
							<h:form>
							  <div class="modal-content">
							    <h4>New Album</h4>
							    <div class="row">
							    	<div class="input-field">
										<h:outputLabel for="titre" value="Title" />
										<h:inputText id="titre" value="#{albumController.album.title}" />
											<!-- validator="#{ajoutAlbum.validerNomAlbum}" -->
									</div>
									<div class="input-field">
										<h:outputLabel for="description" value="Description" />
										<h:inputText id="description" value="#{albumController.album.description}" />
											<!-- validator="#{ajoutAlbum.validerZip}"  -->
									</div>
								</div>
							  </div>
							  <div class="modal-footer">
							    <h:commandButton class="btn light-blue" action="#{albumController.createAlbum()}" value="Create Album"/>
							    <span class="spacer"></span>
							    <a href="#!" class="btn grey lighten-2 close-modal" data-target="">Cancel</a>
							  </div>
						  </h:form>
						</div>
					</div>
				</div>
				<div class="row">
					<c:forEach var="album" items="#{albumController.listAlbumOwnedByCurrentUser}">
						<div class="col s12 m6 l4">
				          <div class="card">
				            <div class="card-image">
				              <h:graphicImage name="img/default-wallpaper.jpg"/>
				              <span class="card-title">#{album.title}</span>
				            </div>
				            <div class="card-content">
				              <p>#{album.description}</p>
				            </div>
				            <div class="card-action">
				            	<h:form>
					              <h:commandLink action="#{albumController.displayAlbum(album.id)}">
					              	<span class="lnr lnr-picture"></span> See
					              </h:commandLink>
					              <h:commandLink action="#{albumController.deleteAlbum(album.id)}">
					              	<span class="lnr lnr-trash"></span> Delete
					              </h:commandLink>
				              </h:form>
				            </div>
				          </div>
				        </div>
					</c:forEach>
				</div>
			</f:view>
		</ui:define>

	</ui:composition>
</body>
</html>